<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript" charset="utf-8">
    function get_ip(cb) {
        var script = document.createElement("script"),
            s = document.getElementsByTagName("script")[0];
        script.src = "http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=jsonp";
        s.parentNode.insertBefore(script, s);
        var it = setInterval(function() {
            if (!!remote_ip_info) {
                cb(remote_ip_info);
                remote_ip_info = null;
                clearInterval(it);
                it = null;
            }
        }, 100);
    }
    get_ip(function(info) {
        alert('你的ip所在地为:' + info.country + info.province + info.city);
    });
    </script>
</body>
<!-- <body>
    <h1>点击获取ip</h1>
    <br>
    <button class="xxx-btn" onclick="aa()">click me</button>
    <script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
    <script>
    function aa() {
        alert(returnCitySN['cip'] + returnCitySN['cname']);
        console.log(returnCitySN);
    };
    </script>
</body> -->

</html>